@tailwind base;
@tailwind components;
@tailwind utilities;

/* FitWizard Design System - Purple/Pink Professional Gradient Theme */

@layer base {
  :root {
    /* Cosmic Theme - Light Mode (Clean/Bright) */
    --background: 260 30% 98%;
    --foreground: 270 50% 10%;

    --card: 0 0% 100%;
    --card-foreground: 270 50% 10%;

    --popover: 0 0% 100%;
    --popover-foreground: 270 50% 10%;

    /* Primary: Electric Purple */
    --primary: 270 80% 60%;
    --primary-foreground: 0 0% 100%;

    /* Secondary: Hot Pink */
    --secondary: 330 85% 60%;
    --secondary-foreground: 0 0% 100%;

    /* Accent: Electric Cyan */
    --accent: 180 70% 45%;
    --accent-foreground: 0 0% 100%;

    --muted: 270 20% 96%;
    --muted-foreground: 270 20% 40%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;

    --border: 270 20% 90%;
    --input: 270 20% 90%;
    --ring: 270 80% 60%;

    --radius: 1rem;

    /* Gradients */
    --gradient-primary: linear-gradient(135deg, hsl(270 80% 60%), hsl(330 85% 60%));
    --gradient-hero: linear-gradient(135deg, hsl(270 80% 60% / 0.1), hsl(330 85% 60% / 0.1));
  }

  .dark {
    /* Cosmic Theme - Dark Mode (Deep/Vibrant) */
    --background: 270 50% 8%;
    /* Deep Purple Black */
    --foreground: 0 0% 100%;

    --card: 270 40% 12%;
    --card-foreground: 0 0% 100%;

    --popover: 270 40% 12%;
    --popover-foreground: 0 0% 100%;

    /* Primary: Neon Purple */
    --primary: 270 90% 65%;
    --primary-foreground: 0 0% 100%;

    /* Secondary: Neon Pink */
    --secondary: 330 90% 65%;
    --secondary-foreground: 0 0% 100%;

    /* Accent: Neon Cyan */
    --accent: 180 80% 50%;
    --accent-foreground: 0 0% 100%;

    --muted: 270 30% 20%;
    --muted-foreground: 270 20% 70%;

    --destructive: 0 62% 50%;
    --destructive-foreground: 0 0% 100%;

    --border: 270 30% 25%;
    --input: 270 30% 25%;
    --ring: 270 90% 65%;

    /* Gradients */
    --gradient-primary: linear-gradient(135deg, hsl(270 90% 65%), hsl(330 90% 65%));
    --gradient-hero: linear-gradient(to bottom right, #0F0518, #1A0B2E);
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  /* Accessibility: Focus styles */
  :focus-visible {
    @apply outline-none ring-2 ring-ring ring-offset-2 ring-offset-background;
  }

  /* Touch targets for accessibility - minimum 44px */
  .touch-target {
    @apply min-h-[44px] min-w-[44px];
  }

  /* Touch-safe interactive elements - expands hit area */
  .touch-safe {
    position: relative;
  }
  .touch-safe::after {
    content: '';
    position: absolute;
    inset: -8px;
    min-width: 44px;
    min-height: 44px;
  }
}

/* =====================================================
   FLUID TYPOGRAPHY SYSTEM
   Scales smoothly from 320px to 1280px viewport
   ===================================================== */
:root {
  --text-fluid-xs: clamp(0.625rem, 0.58rem + 0.19vw, 0.75rem);   /* 10px → 12px */
  --text-fluid-sm: clamp(0.75rem, 0.7rem + 0.21vw, 0.875rem);    /* 12px → 14px */
  --text-fluid-base: clamp(0.875rem, 0.83rem + 0.19vw, 1rem);    /* 14px → 16px */
  --text-fluid-lg: clamp(1rem, 0.92rem + 0.35vw, 1.125rem);      /* 16px → 18px */
  --text-fluid-xl: clamp(1.125rem, 1rem + 0.52vw, 1.25rem);      /* 18px → 20px */
  --text-fluid-2xl: clamp(1.25rem, 1.08rem + 0.73vw, 1.5rem);    /* 20px → 24px */
  --text-fluid-3xl: clamp(1.5rem, 1.17rem + 1.39vw, 1.875rem);   /* 24px → 30px */
  --text-fluid-4xl: clamp(1.875rem, 1.33rem + 2.26vw, 2.25rem);  /* 30px → 36px */
  --text-fluid-5xl: clamp(2.25rem, 1.5rem + 3.13vw, 3rem);       /* 36px → 48px */
}

@layer utilities {
  /* Fluid Typography Classes */
  .text-fluid-xs { font-size: var(--text-fluid-xs); }
  .text-fluid-sm { font-size: var(--text-fluid-sm); }
  .text-fluid-base { font-size: var(--text-fluid-base); }
  .text-fluid-lg { font-size: var(--text-fluid-lg); }
  .text-fluid-xl { font-size: var(--text-fluid-xl); }
  .text-fluid-2xl { font-size: var(--text-fluid-2xl); }
  .text-fluid-3xl { font-size: var(--text-fluid-3xl); }
  .text-fluid-4xl { font-size: var(--text-fluid-4xl); }
  .text-fluid-5xl { font-size: var(--text-fluid-5xl); }

  /* Responsive Padding */
  .px-responsive { @apply px-4 sm:px-6 lg:px-8; }
  .py-responsive { @apply py-6 sm:py-8 lg:py-12; }
  .p-responsive { @apply p-4 sm:p-6 lg:p-8; }

  /* Responsive Gaps */
  .gap-responsive { @apply gap-4 sm:gap-6 lg:gap-8; }
  .gap-responsive-sm { @apply gap-2 sm:gap-3 lg:gap-4; }

  /* Container Variants - Semantic naming for consistency */
  .container-narrow { @apply container max-w-2xl mx-auto px-4 sm:px-6; }
  .container-content { @apply container max-w-4xl mx-auto px-4 sm:px-6; }
  .container-wide { @apply container max-w-6xl mx-auto px-4 sm:px-6; }
  .container-full { @apply container max-w-7xl mx-auto px-4 sm:px-6; }

  /* Safe Area Utilities for Notched Devices (iPhone X+, etc.) */
  .safe-area-top { padding-top: env(safe-area-inset-top, 0); }
  .safe-area-bottom { padding-bottom: env(safe-area-inset-bottom, 0); }
  .safe-area-left { padding-left: env(safe-area-inset-left, 0); }
  .safe-area-right { padding-right: env(safe-area-inset-right, 0); }
  .safe-area-x {
    padding-left: env(safe-area-inset-left, 0);
    padding-right: env(safe-area-inset-right, 0);
  }
  .safe-area-y {
    padding-top: env(safe-area-inset-top, 0);
    padding-bottom: env(safe-area-inset-bottom, 0);
  }
  .safe-area-all {
    padding: env(safe-area-inset-top, 0) env(safe-area-inset-right, 0) env(safe-area-inset-bottom, 0) env(safe-area-inset-left, 0);
  }
}

/* PWA/Mobile optimizations */
html, body {
  overflow-x: hidden;
  max-width: 100vw;
}

body {
  min-height: 100vh;
  min-height: -webkit-fill-available;
}

@layer utilities {
  .gradient-primary {
    background: var(--gradient-primary);
  }

  .gradient-hero {
    background: var(--gradient-hero);
  }

  .gradient-accent {
    background: var(--gradient-accent);
  }

  .gradient-subtle {
    background: var(--gradient-subtle);
  }

  .shadow-glow {
    box-shadow: var(--shadow-glow);
  }

  .shadow-glow-pink {
    box-shadow: var(--shadow-glow-pink);
  }

  /* Gradient text utility */
  .gradient-text {
    background: var(--gradient-primary);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* Muscle highlight utilities - purple glow */
  .muscle-selected {
    fill: hsl(var(--muscle-highlight));
    stroke: hsl(var(--primary-foreground));
    stroke-width: 1.5;
    filter: drop-shadow(0 0 8px hsl(var(--muscle-highlight) / 0.6));
    transition: all 0.2s ease-out;
  }

  .muscle-hover {
    fill: hsl(var(--muscle-hover));
    cursor: pointer;
    filter: drop-shadow(0 0 4px hsl(var(--muscle-hover) / 0.4));
  }

  .muscle-default {
    fill: hsl(var(--muscle-default));
    stroke: hsl(var(--border));
    stroke-width: 0.5;
    transition: all 0.2s ease-out;
  }

  /* Glassmorphism card - frosted glass effect */
  .glass-card {
    background: hsl(var(--card) / 0.7);
    backdrop-filter: blur(16px) saturate(180%);
    -webkit-backdrop-filter: blur(16px) saturate(180%);
    border: 1px solid hsl(var(--border) / 0.3);
    box-shadow:
      0 4px 6px -1px hsl(var(--primary) / 0.08),
      0 2px 4px -2px hsl(var(--secondary) / 0.06),
      inset 0 1px 0 hsl(var(--primary-foreground) / 0.1);
  }

  .dark .glass-card {
    background: hsl(var(--card) / 0.6);
    border: 1px solid hsl(var(--primary) / 0.15);
    box-shadow:
      0 4px 6px -1px hsl(0 0% 0% / 0.3),
      0 2px 4px -2px hsl(0 0% 0% / 0.2),
      inset 0 1px 0 hsl(var(--primary) / 0.1);
  }

  /* Animated gradient border */
  .gradient-border {
    position: relative;
    background: hsl(var(--card));
    border-radius: var(--radius);
  }

  .gradient-border::before {
    content: '';
    position: absolute;
    inset: -2px;
    border-radius: calc(var(--radius) + 2px);
    background: var(--gradient-primary);
    z-index: -1;
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .gradient-border:hover::before,
  .gradient-border:focus-within::before {
    opacity: 1;
  }

  /* Card lift effect on hover */
  .card-interactive {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .card-interactive:hover {
    transform: translateY(-4px) scale(1.02);
    box-shadow:
      0 20px 25px -5px hsl(var(--primary) / 0.15),
      0 8px 10px -6px hsl(var(--secondary) / 0.1);
  }

  /* Neumorphism button styling */
  .neumorphic {
    background: hsl(var(--background));
    box-shadow:
      6px 6px 12px hsl(var(--primary) / 0.08),
      -6px -6px 12px hsl(var(--primary-foreground) / 0.5);
    transition: all 0.2s ease;
  }

  .neumorphic:hover {
    box-shadow:
      8px 8px 16px hsl(var(--primary) / 0.12),
      -8px -8px 16px hsl(var(--primary-foreground) / 0.6);
  }

  .neumorphic:active {
    box-shadow:
      inset 4px 4px 8px hsl(var(--primary) / 0.1),
      inset -4px -4px 8px hsl(var(--primary-foreground) / 0.4);
  }

  .dark .neumorphic {
    box-shadow:
      6px 6px 12px hsl(0 0% 0% / 0.4),
      -6px -6px 12px hsl(var(--primary) / 0.1);
  }

  .dark .neumorphic:hover {
    box-shadow:
      8px 8px 16px hsl(0 0% 0% / 0.5),
      -8px -8px 16px hsl(var(--primary) / 0.15);
  }

  /* Purple shimmer loading effect */
  .shimmer-purple {
    background: linear-gradient(90deg,
        hsl(var(--muted)) 0%,
        hsl(var(--primary) / 0.3) 50%,
        hsl(var(--muted)) 100%);
    background-size: 200% 100%;
  }

  /* Icon hover animation */
  .icon-hover {
    transition: all 0.2s ease;
  }

  .icon-hover:hover {
    transform: scale(1.15);
    color: hsl(var(--primary));
    filter: drop-shadow(0 0 6px hsl(var(--primary) / 0.4));
  }

  /* Page transition wrapper */
  .page-transition-enter {
    opacity: 0;
    transform: translateY(10px);
  }

  .page-transition-enter-active {
    opacity: 1;
    transform: translateY(0);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .page-transition-exit {
    opacity: 1;
    transform: translateY(0);
  }

  .page-transition-exit-active {
    opacity: 0;
    transform: translateY(-10px);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Success checkmark animation */
  .checkmark-animated {
    stroke-dasharray: 100;
    stroke-dashoffset: 100;
  }

  /* Gradient text with animation */
  .gradient-text-animated {
    background: linear-gradient(135deg,
        hsl(var(--primary)) 0%,
        hsl(var(--secondary)) 50%,
        hsl(var(--primary)) 100%);
    background-size: 200% auto;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: gradient-shift 3s ease infinite;
  }
}

/* Animation keyframes for gradient effects */
@keyframes gradient-shift {

  0%,
  100% {
    background-position: 0% 50%;
  }

  50% {
    background-position: 100% 50%;
  }
}

@keyframes confetti-fall {
  0% {
    transform: translateY(-10px) rotate(0deg);
    opacity: 1;
  }

  100% {
    transform: translateY(100vh) rotate(720deg);
    opacity: 0;
  }
}

@keyframes checkmark {
  0% {
    stroke-dashoffset: 166;
  }

  100% {
    stroke-dashoffset: 0;
  }
}

@keyframes pulse-glow {

  0%,
  100% {
    box-shadow: 0 0 5px hsl(262 83% 66% / 0.3), 0 0 10px hsl(330 81% 60% / 0.2);
  }

  50% {
    box-shadow: 0 0 20px hsl(262 83% 66% / 0.5), 0 0 40px hsl(330 81% 60% / 0.3);
  }
}

@keyframes toast-slide-in-right {
  0% {
    transform: translateX(100%) scale(0.8);
    opacity: 0;
  }

  100% {
    transform: translateX(0) scale(1);
    opacity: 1;
  }
}

.animate-gradient {
  background-size: 200% 200%;
  animation: gradient-shift 3s ease infinite;
}

.animate-confetti-fall {
  animation: confetti-fall 3s ease-out forwards;
}

/* Organic "Breathing" animation for bio-feedback */
@keyframes bio-breathe {

  0%,
  100% {
    transform: scale(1);
    opacity: 0.6;
    filter: brightness(1);
  }

  50% {
    transform: scale(1.15);
    opacity: 0.9;
    filter: brightness(1.3);
  }
}

.animate-bio-breathe {
  animation: bio-breathe 4s ease-in-out infinite;
}

/* Muscle glow pulse */
@keyframes muscle-glow {

  0%,
  100% {
    filter: drop-shadow(0 0 4px rgba(168, 85, 247, 0.4));
  }

  50% {
    filter: drop-shadow(0 0 12px rgba(168, 85, 247, 0.7));
  }
}

.animate-muscle-glow {
  animation: muscle-glow 2s ease-in-out infinite;
}

/* =====================================================
   BODY OUTLINE STYLES
   ===================================================== */

.body-outline {
  stroke: var(--muted-foreground);
  stroke-width: 1.5px;
  opacity: 0.4;
  stroke-linecap: round;
  stroke-linejoin: round;
  transition: all 0.3s ease;
}

.dark .body-outline {
  stroke: rgba(255, 255, 255, 0.3);
  opacity: 0.2;
}

/* =====================================================
   --- PREMIUM POLISH UTILITIES --- */

/* 1. Micro-Gradient for Middle Zone (Subtle depth) */
.bg-premium-dark {
  background: linear-gradient(to bottom,
      hsl(260 30% 6%),
      hsl(260 30% 4%) 100%);
}

/* 2. Premium Surface (Cards/Quotes) - Tactile, barely there border */
/* 2. Premium Surface (Cards/Quotes) - Adaptive Glass */
.glass-premium {
  background: hsl(var(--card) / 0.7);
  /* More opaque in light mode for readability */
  backdrop-filter: blur(12px);
  border: 1px solid hsl(var(--border) / 0.5);
  box-shadow:
    0 4px 20px -10px hsl(var(--foreground) / 0.05),
    inset 0 1px 0 0 hsl(var(--background) / 0.4);
  transition: all 0.3s ease-out;
}

:is(.dark .glass-premium) {
  background: hsl(var(--card) / 0.03);
  border: 1px solid hsl(var(--primary) / 0.1);
  box-shadow:
    0 4px 20px -10px hsl(0 0% 0% / 0.5),
    inset 0 1px 0 0 hsl(255 100% 100% / 0.05);
}

.glass-premium:hover {
  transform: translateY(-2px);
  border-color: hsl(var(--primary) / 0.3);
  box-shadow:
    0 12px 30px -15px hsl(var(--foreground) / 0.1),
    0 0 0 1px hsl(var(--primary) / 0.1);
}

:is(.dark .glass-premium:hover) {
  background: hsl(var(--card) / 0.06);
  box-shadow:
    0 12px 30px -15px hsl(0 0% 0% / 0.6),
    0 0 0 1px hsl(var(--primary) / 0.1),
    inset 0 1px 0 0 hsl(255 100% 100% / 0.1);
}

/* Static version for Modals/Dialogs (No hover transform to preserve centering) */
.glass-static {
  background: hsl(var(--card) / 0.7);
  backdrop-filter: blur(12px);
  border: 1px solid hsl(var(--border) / 0.5);
  box-shadow:
    0 4px 20px -10px hsl(var(--foreground) / 0.05),
    inset 0 1px 0 0 hsl(var(--background) / 0.4);
}

:is(.dark .glass-static) {
  background: hsl(var(--card) / 0.03);
  border: 1px solid hsl(var(--primary) / 0.1);
  box-shadow:
    0 4px 20px -10px hsl(0 0% 0% / 0.5),
    inset 0 1px 0 0 hsl(255 100% 100% / 0.05);
}

/* 3. Hero Ambient Bloom */
.hero-bloom {
  background: radial-gradient(circle at center,
      hsl(270 80% 60% / 0.08) 0%,
      transparent 60%);
}

/* 4. Quote Container Specifics - Adaptive */
.quote-container {
  /* Light Mode Default */
  background: linear-gradient(180deg, hsl(260 20% 98% / 0.9) 0%, hsl(260 20% 95% / 0.9) 100%);
  border: 1px solid hsl(var(--primary) / 0.1);
  box-shadow:
    0 8px 32px -8px hsl(var(--primary) / 0.1),
    inset 0 1px 0 hsl(0 0% 100% / 0.8);
}

:is(.dark .quote-container) {
  background: linear-gradient(180deg, hsl(260 30% 8% / 0.8) 0%, hsl(260 30% 6% / 0.8) 100%);
  border: 1px solid hsl(var(--primary) / 0.15);
  box-shadow:
    0 8px 32px -8px hsl(0 0% 0% / 0.4),
    inset 0 1px 0 hsl(255 100% 100% / 0.08);
}

/* 5. Icon Glow - Restrained */
.icon-glow-soft {
  filter: drop-shadow(0 0 8px hsl(var(--secondary) / 0.4));
}

/* --- FORM VALIDATION ANIMATIONS --- */

/* Shake animation for form errors */
@keyframes shake {

  0%,
  100% {
    transform: translateX(0);
  }

  10%,
  30%,
  50%,
  70%,
  90% {
    transform: translateX(-4px);
  }

  20%,
  40%,
  60%,
  80% {
    transform: translateX(4px);
  }
}

.animate-shake {
  animation: shake 0.4s cubic-bezier(.36, .07, .19, .97) both;
}

/* Slide-down animation for error messages */
@keyframes slide-down {
  from {
    opacity: 0;
    transform: translateY(-8px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-error-in {
  animation: slide-down 0.2s ease-out;
}

/* Premium Horizon Glow - Smooth Color Cycling with @property */
/* Cycles through: Electric Violet → Neon Cyan → Hot Pink → Golden Amber */
/* Uses CSS @property for smooth color interpolation (no snapping) */

/* Define animatable color properties */
@property --glow-color-primary {
  syntax: '<color>';
  initial-value: rgba(168, 85, 247, 0.5);
  inherits: false;
}

@property --glow-color-secondary {
  syntax: '<color>';
  initial-value: rgba(6, 182, 212, 0.4);
  inherits: false;
}

@property --glow-color-tertiary {
  syntax: '<color>';
  initial-value: rgba(236, 72, 153, 0.3);
  inherits: false;
}

/* Primary layer - High Saturation Cycle (48s) */
@keyframes horizon-color-smooth {

  /* Phase 1: Electric Violet (Deep & Royal) */
  0%, 100% {
    --glow-color-primary: rgba(147, 51, 234, 0.6); /* Purple-600 */
  }

  /* Phase 2: Neon Cyan (Bright & Energetic) */
  25% {
    --glow-color-primary: rgba(6, 182, 212, 0.6); /* Cyan-500 */
  }

  /* Phase 3: Hot Pink (Vibrant & Warm) */
  50% {
    --glow-color-primary: rgba(236, 72, 153, 0.6); /* Pink-500 */
  }

  /* Phase 4: Golden Amber (Rich & Luxurious Contrast) */
  75% {
    --glow-color-primary: rgba(245, 158, 11, 0.55); /* Amber-500 */
  }
}

/* Secondary layer - Complementary Offsets */
@keyframes horizon-color-smooth-secondary {
  0%, 100% {
    --glow-color-secondary: rgba(6, 182, 212, 0.4); /* Cyan start */
  }
  33% {
    --glow-color-secondary: rgba(236, 72, 153, 0.45); /* Pink mid */
  }
  66% {
    --glow-color-secondary: rgba(147, 51, 234, 0.4); /* Purple end */
  }
}

/* Tertiary layer - Deep Foundation */
@keyframes horizon-color-smooth-tertiary {
  0%, 100% {
    --glow-color-tertiary: rgba(236, 72, 153, 0.3);
  }
  50% {
    --glow-color-tertiary: rgba(6, 182, 212, 0.3);
  }
}

/* Breathing animation - More dynamic range */
@keyframes horizon-breathe {
  0%, 100% { opacity: 0.8; transform: scaleX(1); }
  50% { opacity: 1.0; transform: scaleX(1.05); }
}

/* Primary glow layer - Intense Core */
.animate-horizon-glow {
  background: radial-gradient(ellipse 40% 50% at 50% 50%,
      var(--glow-color-primary) 0%,
      rgba(168, 85, 247, 0.4) 25%,
      rgba(168, 85, 247, 0.1) 45%,
      transparent 70%);
  background-size: 100% 100%;
  background-position: center;
  filter: blur(28px);
  opacity: 1; /* Max opacity for visibility */
  will-change: background, opacity, transform;
  animation:
    horizon-color-smooth 24s linear infinite, /* Faster cycle for fluidity */
    horizon-breathe 8s ease-in-out infinite;
}

/* Secondary glow layer - Wide Spread */
.animate-horizon-glow-secondary {
  background: radial-gradient(ellipse 45% 45% at 50% 50%,
      var(--glow-color-secondary) 0%,
      rgba(6, 182, 212, 0.2) 30%,
      transparent 65%);
  background-size: 100% 100%;
  background-position: center;
  filter: blur(40px);
  opacity: 0.8;
  will-change: background;
  animation:
    horizon-color-smooth-secondary 32s linear infinite,
    horizon-breathe 10s ease-in-out infinite reverse;
}

/* Tertiary layer - Ambient Fill */
.animate-horizon-glow-tertiary {
  background: radial-gradient(ellipse 50% 40% at 50% 50%,
      var(--glow-color-tertiary) 0%,
      rgba(236, 72, 153, 0.15) 40%,
      transparent 70%);
  background-size: 100% 100%;
  background-position: center;
  filter: blur(50px);
  opacity: 0.6;
  will-change: background;
  animation:
    horizon-color-smooth-tertiary 40s linear infinite;
}

/* Sharp Horizon Line with Electric Core - White Hot Center */
.horizon-line-sharp {
  background: linear-gradient(90deg,
      transparent 0%,
      rgba(var(--glow-color-primary), 0) 10%,
      rgba(255, 255, 255, 0.8) 40%,
      #ffffff 50%,
      rgba(255, 255, 255, 0.8) 60%,
      rgba(var(--glow-color-primary), 0) 90%,
      transparent 100%);
  height: 2px; /* Slightly thicker */
  filter: blur(0.5px) drop-shadow(0 0 4px white);
  opacity: 0.9;
  z-index: 20;
}

.horizon-glow-wrapper {
  /* WIDER MASK - 80% Width for true horizon feel */
  mask-image: radial-gradient(ellipse 80% 100% at 50% 50%,
      black 0%,
      black 40%,
      rgba(0, 0, 0, 0.2) 70%,
      transparent 85%);
  -webkit-mask-image: radial-gradient(ellipse 80% 100% at 50% 50%,
      black 0%,
      black 40%,
      rgba(0, 0, 0, 0.2) 70%,
      transparent 85%);
  mix-blend-mode: normal; /* Handle blending on children */
}

/* =====================================================
   PREMIUM MOBILE NAVIGATION
   Apple/Google-inspired sheet and menu animations
   ===================================================== */

/* Mobile Menu Premium Glass Effect */
.sheet-glass {
  background: hsl(var(--card) / 0.88);
  backdrop-filter: blur(20px) saturate(180%);
  -webkit-backdrop-filter: blur(20px) saturate(180%);
  border-left: 1px solid hsl(var(--border) / 0.4);
  box-shadow:
    -8px 0 32px -8px hsl(var(--primary) / 0.15),
    inset 1px 0 0 hsl(var(--primary-foreground) / 0.05);
}

.dark .sheet-glass {
  background: hsl(var(--card) / 0.78);
  border-left: 1px solid hsl(var(--primary) / 0.2);
  box-shadow:
    -8px 0 32px -8px hsl(0 0% 0% / 0.5),
    -4px 0 16px -4px hsl(var(--primary) / 0.1),
    inset 1px 0 0 hsl(var(--primary) / 0.1);
}

/* Premium Backdrop with Animated Blur */
.backdrop-premium {
  background: linear-gradient(
    90deg,
    hsl(0 0% 0% / 0.2) 0%,
    hsl(0 0% 0% / 0.5) 100%
  );
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}

.dark .backdrop-premium {
  background: linear-gradient(
    90deg,
    hsl(270 50% 5% / 0.3) 0%,
    hsl(270 50% 3% / 0.7) 100%
  );
}

/* Menu Item Interactive States */
.menu-item-interactive {
  position: relative;
  overflow: hidden;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

.menu-item-interactive::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    90deg,
    hsl(var(--primary) / 0) 0%,
    hsl(var(--primary) / 0.1) 50%,
    hsl(var(--primary) / 0) 100%
  );
  transform: translateX(-100%);
  transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  pointer-events: none;
}

.menu-item-interactive:hover::before {
  transform: translateX(100%);
}

.menu-item-interactive:active {
  transform: scale(0.98);
  background: hsl(var(--primary) / 0.08);
}

/* Active Navigation Indicator */
.nav-indicator {
  background: linear-gradient(
    180deg,
    hsl(var(--primary)) 0%,
    hsl(var(--secondary)) 100%
  );
  box-shadow:
    0 0 8px hsl(var(--primary) / 0.5),
    0 0 16px hsl(var(--secondary) / 0.3);
}

/* Drag Handle Indicator */
.drag-handle {
  background: hsl(var(--muted-foreground) / 0.3);
  transition: all 0.2s ease;
}

.drag-handle:hover {
  background: hsl(var(--muted-foreground) / 0.5);
  transform: scaleX(1.1);
}

/* Sheet Content Inner Glow */
.sheet-inner-glow {
  box-shadow: inset 0 0 60px -20px hsl(var(--primary) / 0.05);
}

.dark .sheet-inner-glow {
  box-shadow: inset 0 0 80px -20px hsl(var(--primary) / 0.08);
}

/* Reduced Motion Support for Mobile Nav */
@media (prefers-reduced-motion: reduce) {
  .sheet-glass,
  .backdrop-premium,
  .menu-item-interactive,
  .menu-item-interactive::before,
  .drag-handle {
    transition: none !important;
    animation: none !important;
  }

  .menu-item-interactive::before {
    display: none;
  }
}
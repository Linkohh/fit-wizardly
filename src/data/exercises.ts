import type { Exercise } from '@/types/fitness';

// MVP Exercise Database - 40+ exercises across major patterns and equipment
export const EXERCISE_DATABASE: Exercise[] = [
  // Chest - Horizontal Push
  {
    id: 'bench_press',
    name: 'Barbell Bench Press',
    primaryMuscles: ['chest'],
    secondaryMuscles: ['front_deltoid', 'triceps'],
    equipment: ['barbell', 'bench'],
    patterns: ['horizontal_push'],
    contraindications: ['shoulder_injury'],
    cues: ['Plant feet firmly', 'Arch upper back slightly', 'Lower to mid-chest'],
  },
  {
    id: 'dumbbell_bench_press',
    name: 'Dumbbell Bench Press',
    primaryMuscles: ['chest'],
    secondaryMuscles: ['front_deltoid', 'triceps'],
    equipment: ['dumbbells', 'bench'],
    patterns: ['horizontal_push'],
    contraindications: ['shoulder_injury'],
    cues: ['Keep elbows at 45째', 'Touch dumbbells at top', 'Control the descent'],
  },
  {
    id: 'pushup',
    name: 'Push-Up',
    primaryMuscles: ['chest'],
    secondaryMuscles: ['front_deltoid', 'triceps', 'abs'],
    equipment: ['bodyweight'],
    patterns: ['horizontal_push'],
    contraindications: ['wrist_injury'],
    cues: ['Body in straight line', 'Elbows at 45째', 'Full range of motion'],
  },
  {
    id: 'incline_dumbbell_press',
    name: 'Incline Dumbbell Press',
    primaryMuscles: ['chest', 'front_deltoid'],
    secondaryMuscles: ['triceps'],
    equipment: ['dumbbells', 'bench'],
    patterns: ['horizontal_push'],
    contraindications: ['shoulder_injury'],
    cues: ['30-45째 incline', 'Drive through chest', 'Squeeze at top'],
  },
  {
    id: 'cable_fly',
    name: 'Cable Fly',
    primaryMuscles: ['chest'],
    secondaryMuscles: [],
    equipment: ['cables'],
    patterns: ['isolation'],
    contraindications: ['shoulder_injury'],
    cues: ['Slight bend in elbows', 'Squeeze chest at center', 'Control the stretch'],
  },

  // Back - Horizontal Pull
  {
    id: 'barbell_row',
    name: 'Barbell Row',
    primaryMuscles: ['upper_back', 'lats'],
    secondaryMuscles: ['biceps', 'rear_deltoid'],
    equipment: ['barbell'],
    patterns: ['horizontal_pull'],
    contraindications: ['back_injury', 'no_heavy_spinal_load'],
    cues: ['Hinge at hips', 'Pull to lower chest', 'Squeeze shoulder blades'],
  },
  {
    id: 'dumbbell_row',
    name: 'Dumbbell Row',
    primaryMuscles: ['upper_back', 'lats'],
    secondaryMuscles: ['biceps', 'rear_deltoid'],
    equipment: ['dumbbells', 'bench'],
    patterns: ['horizontal_pull'],
    contraindications: [],
    cues: ['Support on bench', 'Pull to hip', 'Lead with elbow'],
  },
  {
    id: 'cable_row',
    name: 'Seated Cable Row',
    primaryMuscles: ['upper_back', 'lats'],
    secondaryMuscles: ['biceps', 'rear_deltoid'],
    equipment: ['cables'],
    patterns: ['horizontal_pull'],
    contraindications: [],
    cues: ['Sit tall', 'Pull to belly button', 'Squeeze back at end'],
  },
  {
    id: 'inverted_row',
    name: 'Inverted Row',
    primaryMuscles: ['upper_back', 'lats'],
    secondaryMuscles: ['biceps', 'rear_deltoid', 'abs'],
    equipment: ['bodyweight', 'pullup_bar'],
    patterns: ['horizontal_pull'],
    contraindications: [],
    cues: ['Body straight', 'Pull chest to bar', 'Control descent'],
  },

  // Back - Vertical Pull
  {
    id: 'pullup',
    name: 'Pull-Up',
    primaryMuscles: ['lats', 'upper_back'],
    secondaryMuscles: ['biceps', 'forearms'],
    equipment: ['pullup_bar', 'bodyweight'],
    patterns: ['vertical_pull'],
    contraindications: ['shoulder_injury'],
    cues: ['Dead hang start', 'Pull elbows down', 'Chin over bar'],
  },
  {
    id: 'lat_pulldown',
    name: 'Lat Pulldown',
    primaryMuscles: ['lats'],
    secondaryMuscles: ['upper_back', 'biceps'],
    equipment: ['cables', 'machines'],
    patterns: ['vertical_pull'],
    contraindications: [],
    cues: ['Lean back slightly', 'Pull to upper chest', 'Squeeze lats'],
  },
  {
    id: 'chinup',
    name: 'Chin-Up',
    primaryMuscles: ['lats', 'biceps'],
    secondaryMuscles: ['upper_back', 'forearms'],
    equipment: ['pullup_bar', 'bodyweight'],
    patterns: ['vertical_pull'],
    contraindications: ['shoulder_injury'],
    cues: ['Underhand grip', 'Pull chin over bar', 'Control down'],
  },

  // Shoulders - Vertical Push
  {
    id: 'overhead_press',
    name: 'Overhead Press',
    primaryMuscles: ['front_deltoid', 'side_deltoid'],
    secondaryMuscles: ['triceps', 'upper_back'],
    equipment: ['barbell', 'squat_rack'],
    patterns: ['vertical_push'],
    contraindications: ['no_overhead', 'shoulder_injury'],
    cues: ['Brace core', 'Press straight up', 'Lockout overhead'],
  },
  {
    id: 'dumbbell_shoulder_press',
    name: 'Dumbbell Shoulder Press',
    primaryMuscles: ['front_deltoid', 'side_deltoid'],
    secondaryMuscles: ['triceps'],
    equipment: ['dumbbells'],
    patterns: ['vertical_push'],
    contraindications: ['no_overhead', 'shoulder_injury'],
    cues: ['Seated or standing', 'Press up and slightly in', 'Control down'],
  },
  {
    id: 'pike_pushup',
    name: 'Pike Push-Up',
    primaryMuscles: ['front_deltoid'],
    secondaryMuscles: ['triceps', 'upper_back'],
    equipment: ['bodyweight'],
    patterns: ['vertical_push'],
    contraindications: ['no_overhead', 'wrist_injury'],
    cues: ['Hips high', 'Head between arms', 'Touch floor with head'],
  },
  {
    id: 'lateral_raise',
    name: 'Lateral Raise',
    primaryMuscles: ['side_deltoid'],
    secondaryMuscles: [],
    equipment: ['dumbbells'],
    patterns: ['isolation'],
    contraindications: ['shoulder_injury'],
    cues: ['Slight bend in elbows', 'Raise to shoulder height', 'Control down'],
  },
  {
    id: 'face_pull',
    name: 'Face Pull',
    primaryMuscles: ['rear_deltoid', 'upper_back'],
    secondaryMuscles: ['traps'],
    equipment: ['cables'],
    patterns: ['horizontal_pull'],
    contraindications: [],
    cues: ['Pull to face', 'Externally rotate at end', 'Squeeze rear delts'],
  },

  // Legs - Squat Pattern
  {
    id: 'barbell_squat',
    name: 'Barbell Back Squat',
    primaryMuscles: ['quads', 'glutes'],
    secondaryMuscles: ['hamstrings', 'lower_back', 'abs'],
    equipment: ['barbell', 'squat_rack'],
    patterns: ['squat'],
    contraindications: ['knee_injury', 'back_injury', 'no_heavy_spinal_load'],
    cues: ['Brace core', 'Knees track toes', 'Depth to parallel or below'],
  },
  {
    id: 'goblet_squat',
    name: 'Goblet Squat',
    primaryMuscles: ['quads', 'glutes'],
    secondaryMuscles: ['abs'],
    equipment: ['dumbbells', 'kettlebells'],
    patterns: ['squat'],
    contraindications: ['knee_injury'],
    cues: ['Hold weight at chest', 'Elbows inside knees', 'Sit between heels'],
  },
  {
    id: 'leg_press',
    name: 'Leg Press',
    primaryMuscles: ['quads', 'glutes'],
    secondaryMuscles: ['hamstrings'],
    equipment: ['machines'],
    patterns: ['squat'],
    contraindications: [],
    cues: ['Feet shoulder width', 'Full depth without butt lift', 'Control eccentric'],
  },
  {
    id: 'bodyweight_squat',
    name: 'Bodyweight Squat',
    primaryMuscles: ['quads', 'glutes'],
    secondaryMuscles: ['abs'],
    equipment: ['bodyweight'],
    patterns: ['squat'],
    contraindications: ['knee_injury'],
    cues: ['Arms forward for balance', 'Sit back', 'Full depth'],
  },

  // Legs - Hinge Pattern
  {
    id: 'deadlift',
    name: 'Conventional Deadlift',
    primaryMuscles: ['hamstrings', 'glutes', 'lower_back'],
    secondaryMuscles: ['quads', 'traps', 'forearms'],
    equipment: ['barbell'],
    patterns: ['hinge'],
    contraindications: ['back_injury', 'no_heavy_spinal_load'],
    cues: ['Bar over mid-foot', 'Chest up', 'Push floor away'],
  },
  {
    id: 'romanian_deadlift',
    name: 'Romanian Deadlift',
    primaryMuscles: ['hamstrings', 'glutes'],
    secondaryMuscles: ['lower_back'],
    equipment: ['barbell', 'dumbbells'],
    patterns: ['hinge'],
    contraindications: ['back_injury'],
    cues: ['Slight knee bend', 'Push hips back', 'Feel hamstring stretch'],
  },
  {
    id: 'kettlebell_swing',
    name: 'Kettlebell Swing',
    primaryMuscles: ['glutes', 'hamstrings'],
    secondaryMuscles: ['lower_back', 'abs'],
    equipment: ['kettlebells'],
    patterns: ['hinge'],
    contraindications: ['back_injury', 'no_impact'],
    cues: ['Hinge not squat', 'Snap hips forward', 'Arms are pendulum'],
  },
  {
    id: 'hip_thrust',
    name: 'Hip Thrust',
    primaryMuscles: ['glutes'],
    secondaryMuscles: ['hamstrings'],
    equipment: ['barbell', 'bench'],
    patterns: ['hinge'],
    contraindications: [],
    cues: ['Shoulders on bench', 'Drive through heels', 'Squeeze at top'],
  },
  {
    id: 'glute_bridge',
    name: 'Glute Bridge',
    primaryMuscles: ['glutes'],
    secondaryMuscles: ['hamstrings'],
    equipment: ['bodyweight'],
    patterns: ['hinge'],
    contraindications: [],
    cues: ['Feet flat, knees bent', 'Squeeze glutes at top', 'Hold briefly'],
  },

  // Legs - Lunge Pattern
  {
    id: 'walking_lunge',
    name: 'Walking Lunge',
    primaryMuscles: ['quads', 'glutes'],
    secondaryMuscles: ['hamstrings'],
    equipment: ['bodyweight', 'dumbbells'],
    patterns: ['lunge'],
    contraindications: ['knee_injury', 'no_impact'],
    cues: ['Long stride', 'Front knee over ankle', 'Push through front heel'],
  },
  {
    id: 'split_squat',
    name: 'Split Squat',
    primaryMuscles: ['quads', 'glutes'],
    secondaryMuscles: ['hamstrings'],
    equipment: ['bodyweight', 'dumbbells'],
    patterns: ['lunge'],
    contraindications: ['knee_injury'],
    cues: ['Stationary stance', 'Drop back knee', 'Stay upright'],
  },
  {
    id: 'bulgarian_split_squat',
    name: 'Bulgarian Split Squat',
    primaryMuscles: ['quads', 'glutes'],
    secondaryMuscles: ['hamstrings'],
    equipment: ['dumbbells', 'bench', 'bodyweight'],
    patterns: ['lunge'],
    contraindications: ['knee_injury'],
    cues: ['Rear foot elevated', 'Lean slightly forward', 'Drive through front heel'],
  },
  {
    id: 'step_up',
    name: 'Step-Up',
    primaryMuscles: ['quads', 'glutes'],
    secondaryMuscles: [],
    equipment: ['bench', 'dumbbells', 'bodyweight'],
    patterns: ['lunge'],
    contraindications: ['knee_injury', 'no_impact'],
    cues: ['Full foot on box', 'Push through working leg only', 'Control down'],
  },

  // Arms - Biceps
  {
    id: 'barbell_curl',
    name: 'Barbell Curl',
    primaryMuscles: ['biceps'],
    secondaryMuscles: ['forearms'],
    equipment: ['barbell'],
    patterns: ['isolation'],
    contraindications: ['wrist_injury'],
    cues: ['Elbows pinned to sides', 'Full contraction at top', 'Control down'],
  },
  {
    id: 'dumbbell_curl',
    name: 'Dumbbell Curl',
    primaryMuscles: ['biceps'],
    secondaryMuscles: ['forearms'],
    equipment: ['dumbbells'],
    patterns: ['isolation'],
    contraindications: [],
    cues: ['Supinate at top', 'No swinging', 'Full stretch at bottom'],
  },
  {
    id: 'hammer_curl',
    name: 'Hammer Curl',
    primaryMuscles: ['biceps', 'forearms'],
    secondaryMuscles: [],
    equipment: ['dumbbells'],
    patterns: ['isolation'],
    contraindications: [],
    cues: ['Neutral grip', 'Elbows stationary', 'Squeeze at top'],
  },

  // Arms - Triceps
  {
    id: 'tricep_pushdown',
    name: 'Tricep Pushdown',
    primaryMuscles: ['triceps'],
    secondaryMuscles: [],
    equipment: ['cables'],
    patterns: ['isolation'],
    contraindications: [],
    cues: ['Elbows locked at sides', 'Full extension', 'Control up'],
  },
  {
    id: 'skull_crusher',
    name: 'Skull Crusher',
    primaryMuscles: ['triceps'],
    secondaryMuscles: [],
    equipment: ['barbell', 'dumbbells', 'bench'],
    patterns: ['isolation'],
    contraindications: ['wrist_injury'],
    cues: ['Lower to forehead', 'Elbows fixed', 'Full extension'],
  },
  {
    id: 'dips',
    name: 'Tricep Dips',
    primaryMuscles: ['triceps'],
    secondaryMuscles: ['chest', 'front_deltoid'],
    equipment: ['bodyweight'],
    patterns: ['vertical_push'],
    contraindications: ['shoulder_injury'],
    cues: ['Stay upright for triceps', 'Full lockout', 'Control descent'],
  },
  {
    id: 'overhead_tricep_extension',
    name: 'Overhead Tricep Extension',
    primaryMuscles: ['triceps'],
    secondaryMuscles: [],
    equipment: ['dumbbells', 'cables'],
    patterns: ['isolation'],
    contraindications: ['no_overhead', 'shoulder_injury'],
    cues: ['Elbows by ears', 'Full stretch at bottom', 'Squeeze at top'],
  },

  // Core
  {
    id: 'plank',
    name: 'Plank',
    primaryMuscles: ['abs'],
    secondaryMuscles: ['obliques'],
    equipment: ['bodyweight'],
    patterns: ['isolation'],
    contraindications: [],
    cues: ['Straight line from head to heels', 'Brace core', 'Breathe steadily'],
  },
  {
    id: 'crunch',
    name: 'Crunch',
    primaryMuscles: ['abs'],
    secondaryMuscles: [],
    equipment: ['bodyweight'],
    patterns: ['isolation'],
    contraindications: ['back_injury'],
    cues: ['Curl shoulders up', 'Don\'t pull neck', 'Exhale on way up'],
  },
  {
    id: 'russian_twist',
    name: 'Russian Twist',
    primaryMuscles: ['obliques'],
    secondaryMuscles: ['abs'],
    equipment: ['bodyweight', 'dumbbells'],
    patterns: ['rotation'],
    contraindications: ['back_injury', 'no_rotation'],
    cues: ['Lean back slightly', 'Rotate from core', 'Touch floor each side'],
  },
  {
    id: 'leg_raise',
    name: 'Leg Raise',
    primaryMuscles: ['abs', 'hip_flexors'],
    secondaryMuscles: [],
    equipment: ['bodyweight', 'pullup_bar'],
    patterns: ['isolation'],
    contraindications: ['back_injury'],
    cues: ['Keep legs straight', 'Control the descent', 'Don\'t swing'],
  },
  {
    id: 'dead_bug',
    name: 'Dead Bug',
    primaryMuscles: ['abs'],
    secondaryMuscles: ['hip_flexors'],
    equipment: ['bodyweight'],
    patterns: ['isolation'],
    contraindications: [],
    cues: ['Back flat on floor', 'Opposite arm and leg extend', 'Breathe throughout'],
  },

  // Calves
  {
    id: 'calf_raise',
    name: 'Standing Calf Raise',
    primaryMuscles: ['calves'],
    secondaryMuscles: [],
    equipment: ['bodyweight', 'dumbbells', 'machines'],
    patterns: ['isolation'],
    contraindications: [],
    cues: ['Full stretch at bottom', 'Rise onto toes', 'Pause at top'],
  },
  {
    id: 'seated_calf_raise',
    name: 'Seated Calf Raise',
    primaryMuscles: ['calves'],
    secondaryMuscles: [],
    equipment: ['machines', 'dumbbells'],
    patterns: ['isolation'],
    contraindications: [],
    cues: ['Knees at 90째', 'Full range of motion', 'Slow negatives'],
  },

  // Additional compound movements
  {
    id: 'farmers_carry',
    name: 'Farmer\'s Carry',
    primaryMuscles: ['forearms', 'traps'],
    secondaryMuscles: ['abs', 'obliques'],
    equipment: ['dumbbells', 'kettlebells'],
    patterns: ['carry'],
    contraindications: [],
    cues: ['Stand tall', 'Shoulders back', 'Walk with control'],
  },
  {
    id: 'shrug',
    name: 'Dumbbell Shrug',
    primaryMuscles: ['traps'],
    secondaryMuscles: [],
    equipment: ['dumbbells', 'barbell'],
    patterns: ['isolation'],
    contraindications: [],
    cues: ['Lift shoulders straight up', 'Don\'t roll', 'Pause at top'],
  },
];

export function getExerciseById(id: string): Exercise | undefined {
  return EXERCISE_DATABASE.find(e => e.id === id);
}

export function getExercisesByMuscle(muscle: string): Exercise[] {
  return EXERCISE_DATABASE.filter(e => 
    e.primaryMuscles.includes(muscle as any) || e.secondaryMuscles.includes(muscle as any)
  );
}

export function getExercisesByEquipment(equipment: string[]): Exercise[] {
  return EXERCISE_DATABASE.filter(e => 
    e.equipment.some(eq => equipment.includes(eq))
  );
}

export function getExercisesByPattern(pattern: string): Exercise[] {
  return EXERCISE_DATABASE.filter(e => e.patterns.includes(pattern as any));
}
